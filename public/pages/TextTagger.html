<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Grephy JS scripts</title>    
    <script src="../js/iai/Grephy/TextTagger.js"></script>    
    <script>
      function toggleLink(parent) {
        let elem = parent.querySelector('pre');
        console.log(elem);
        let display = elem.style.display;
        // console.log(`display: ${display}`);
        if (display == 'none' || !display) {
          elem.style.display = 'block';
        }
        else {
          elem.style.display = 'none';
        }
      }
    </script>
    <style>
      * {
        box-sizing: border-box;
        font-family:sans-serif;
      }
      body {
          margin:0 auto;
          padding:0 auto;
          
      }
      .back a img {
          margin-right:5px;
      }
      .contentW { 
          display:flex;
          justify-content: center;
          width:100%;
      }
      .content {
          padding:10px;
          box-shadow: 0px 6px 12px 0px rgba(0,0,0,0.20);
          width:96%;
          margin-top:20px;
          
      }
      .back {
          height:60px;
          background-color:white;
          display:flex;
          align-items: center;
          padding:10px;
          box-shadow: 0px 6px 12px 0px rgba(0,0,0,0.20);
      }
      .back a {
          display:flex;
          align-items: center;
          
          color:#353535;
      }
      h1 {
        font-size:18px;
      }
      h2 {
        font-size:16px;
        font-weight:normal;        
      }
      h3 {
        font-size:14px;
        font-weight:normal;
      }
      pre {
        display:none;
      }
      a {
        color:blue;
        text-decoration: none;
      }
      a:hover {
        cursor:pointer;
      }
    </style>
  </head>
  <body>
    <Grephy-Header imgSrc="../images/logo.svg"></Grephy-Header>
      <div>
          <a onclick="history.back()">
            <img src="../images/chevron-left.svg" height="14">
            Back
        </a>
      </div>
    <div class="contentW">
        <div class="content">
                <h1>
                        TextTagger
                      </h1>
                      <h2>
                          Adds styled span tags to a substring
                      </h2>
                      <h3>
                          <ul>
                            <li onclick="toggleLink(this)">
                              <a href="#">
                                  Using Grephy's TextTagger
                              </a>            
                              <pre>
                                <code>
                  //You can start using TextTagger with an API call and set a selector                
                  let url = `http://localhost:3000/api/grephy/1`;
                  //selector is any custom selector you specify that will contain your tagged text
                  TextTagger.init({selector:`[data-texttagger="on"]`, url});
                                </code>
                              </pre>
                  
                  
                            </li>          
                            <li onclick="toggleLink(this)">
                                <a href="#">Required source JSON format:</a>
                                <pre><code>{
                                "input":"Predict inventory sales for the 2018 holiday season.",
                                "phrases":[
                                    {
                                        "text":"Predict",
                                        "chunks":[
                                            {
                                                "text":"Predict",
                                                "types":[
                                                    {
                                                        "type":"QUANTITY",
                                                        "description":"Measurements, as of weight or distance."
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "text":"inventory sales",
                                        "chunks":[
                                            {
                                                "text":"sales",
                                                "types":[
                                                    {
                                                        "type":"QUANTITY",
                                                        "description":"Measurements, as of weight or distance."
                                                    },
                                                    {
                                                        "type":"MONEY",
                                                        "description":"Monetary values, including unit."
                                                    }
                                                ]
                                            },
                                            {
                                                "text":"Predict",
                                                "types":[
                                                    {
                                                        "type":"QUANTITY",
                                                        "description":"Measurements, as of weight or distance."
                                                    },
                                                    {
                                                        "type":"MONEY",
                                                        "description":"Monetary values, including unit."
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "text":"2018 holiday season",
                                        "chunks":[
                                            {
                                                "text":"2018",
                                                "types":[
                                                    {
                                                        "type":"DATE",
                                                        "description":"Absolute or relative dates or periods."
                                                    },
                                                ]
                                            },
                                            {
                                                "text":"2018 holiday season",
                                                "types":[
                                                    {
                                                        "type":"EVENT",
                                                        "description":"Named hurricanes, battles, wars, sports events, etc."
                                                    },
                                                ]
                                            }
                                        ]
                                    },
                             
                                ]
                             };</code></pre></li>
                          </ul>        
                      </h3>
                      <div data-texttagger="on">
                        <!-- your text source -->
                      </div>                  
        </div>                         
    </div>
    <script>
      // You can also require other files to run in this process
      require('../../renderer.js')
      let url = `http://localhost:3000/api/grephy/1`;
      TextTagger.init({selector:`[data-texttagger="on"]`, url});
    </script>
    
    
  </body>
</html>
